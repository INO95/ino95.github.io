---
layout: post
title: "Anki OpenClaw Integration Portfolio 2026-02-07"
date: 2026-02-07
categories: [portfolio, anki, automation, openclaw]
tags: [anki, openclaw, telegram, toeic_ai, moltbot]
lang: en
---

# Anki x OpenClaw Integration System Portfolio

![Anki OpenClaw Flow](/images/portfolio/anki-openclaw-flow.svg)

![Anki OpenClaw Metrics](/images/portfolio/anki-openclaw-metrics.svg)

## 1) Goals
- When a word is sent from Telegram, it is automatically saved to the Anki `TOEIC_AI` deck
- Stable handling for both single and multiple words (newline-based)
- Secure an operational structure that makes failure causes traceable and reduces retry burden

## 2) Current Operation Flow
1. Receive Telegram message
2. OpenClaw bridge routing (`학습:`/`단어:`)
3. Word parsing (newline first, comma fallback if needed)
4. Enrich meaning/examples for each word
5. Save cards via AnkiConnect
6. Return a summary response after batch save completes

## 3) Core Design Points
- Cost efficiency: lightweight routes use the fast model, complex tasks use the codex route
- Stability: AnkiConnect multi-host fallback (`host.docker.internal -> 127.0.0.1 -> localhost`)
- Input durability: convert literal `\\n` into actual newlines to process multi-word saves
- Operability: on failure, immediately return the cause message and missing items to Telegram

## 4) Issues Resolved
- Issue where multiple words were merged into one card: strengthened newline-based token splitting
- Issue where meaning was empty when only a word was sent: added dictionary lookup + TOEIC context fallback
- Issue of missing external test links: added link-only route/external URL substitution logic

## 5) Operations Guide (Real Use)
- Single: `학습: be willing to`
- Multiple: send each word on a new line
- Check: `상태:` or `운영: 액션: 상태; 대상: all`
- Link: `링크: 가계부` / `링크: 프롬프트`

## 6) Security/Data Policy
- Sensitive tokens are managed only in `.env` and the private repository
- Public repo includes no operational data/personal information/tokens
- External sending automation maintains an approval boundary (safe mode)

## 7) Next Steps
- Word quality enhancement: expand dictionary prioritizing frequent TOEIC meanings
- Anki save report enhancement: success/failure counts + failed word details
- Operations automation: integrate overnight check results into the morning briefing

---
Date written: 2026. 2. 7.
This post is a portfolio document based on operation logs.